# coding:utf-8import MySQLdb as mysqlimport MySQLdb.cursorsconn = mysql.connect(host="localhost", user="root", passwd="1q2w3e4r", db="reboot10", charset="utf8",					 cursorclass=MySQLdb.cursors.DictCursor)conn.autocommit(True)curs = conn.cursor()def user_list(fields):	sql = "select %s from users" % ",".join(fields)	curs.execute(sql)	result = curs.fetchall()	# print result	# user_info = [dict((k, row[i]) for i, k in enumerate(fields)) for row in result]	return list(result)def user_check(name):	condition = ["id", "name", "name_cn", "mobile", "email", "role", "password", 'status']	sql = 'select %s from users where name = "%s"' % (",".join(condition), name)	try:		curs.execute(sql)		result = curs.fetchall()		return result[0]	except:		result = None		return resultdef fetch_single_user(user_id):	condition = ["id", "name", "name_cn", "mobile", "email", "role", "password", 'status']	sql = 'select %s from users where id = "%s"' % (",".join(condition), user_id)	try:		curs.execute(sql)		result = curs.fetchall()		return result[0]	except:		result = None		return resultdef modify_user(fields):	data = ','.join("%s='%s'" % (k, v) for k, v in fields.items())	sql = "update users set %s where id = '%s'" % (data, fields['id'])	curs.execute(sql)	conn.commit()def delete_user(userid):	sql = "delete from users where id = '%s' " % (userid)	curs.execute(sql)	conn.commit()def add_user(fields):	sql = "insert into users(%s)values('%s')" % (",".join(fields.keys()), "','".join(fields.values()))	curs.execute(sql)	conn.commit()
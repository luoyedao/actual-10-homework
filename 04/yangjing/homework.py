# coding= utf-8import getpassdef manual():	message = 'Please choose number :1 or 2'	print '-' * 30	print '1. login system'	print '2. Sign up new account\n'	print '%s' % message	print '-' * 30	number = raw_input('Please input number:')	if str.isdigit(number):		if int(number) < 3:			if int(number) == 1:				# print number				choice = 'run0'			elif int(number) == 2:				# print number				choice = 'run1'		else:			choice = 'rollback'	else:		choice = 'rollback'	return choicedef register():	print 'welcome to Sign up new account'	user_name = raw_input('user name:')	user_state = register_check(user_name)	if user_state == 'registered':		start_up()	else:		user_password = getpass.getpass('password:')		user_info = {'name': user_name, 'password': user_password}		store_file(user_info)	return user_infodef login():	login_check()def store_file(user):	user_name = user['name']	user_password = user['password']	user_info_combination = '%s:%s' % (user_name, user_password)	# print user_info_combination	with open('users.txt', 'a') as pass_file:		pass_file.seek(0, 0)		pass_file.write(user_info_combination + '\n')	print 'Sign up finished'	start_up()def register_check(user):	with open('users.txt', 'r') as pass_file:		for line in pass_file:			tmp = line.split(':')			username = tmp[0]			if user == username:				print 'user is already exist'				user_state = 'registered'			else:				user_state = 'unregistered'	return user_statedef login_check():	username = raw_input('Please input username:')	password = getpass.getpass('Please input password:')	user_stored = {}	with open('users.txt', 'r') as pass_file:		for line in pass_file:			tmp = line.split(':')			username_stored, password_stored = tmp[0], tmp[1]			user_stored[username_stored] = password_stored.rstrip()		if user_stored.has_key(username) and password == user_stored[username]:			print 'Hi %s Welcome to login system!!!!!' % username		else:			print 'User name not found  or Password incorrect'			start_up()def start_up():	choice = manual()	while choice == 'rollback':		choice = manual()	if choice == 'run1':		register()	elif choice == 'run0':		login()start_up()
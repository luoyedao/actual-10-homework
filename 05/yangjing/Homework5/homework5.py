# encoding = utf-8from flask import Flaskfrom flask import render_template, redirect, url_forfrom flask import requestapp = Flask(__name__)@app.route('/', methods=['POST', 'GET'])@app.route('/login', methods=['POST', 'GET'])def login():	return login_check()@app.route('/home')def home():	return render_template('home.html', username=request.args.get('username'))@app.route('/register', methods=['POST', 'GET'])def register():	username = request.form['username']	password = request.form['password']	if not username or not password:		return redirect('/')	else:		return register_check(username, password)@app.route('/list')def user_list():	res = password_load()	return render_template('list.html', res=res)@app.route('/update', methods=['POST', 'GET'])def update():	return render_template('update_password.html')'''functions'''def password_load():	user_stored = {}	with open('users.txt', 'r') as pass_file:		for line in pass_file:			tmp = line.split(':')			username_stored, password_stored = tmp[0], tmp[1]			user_stored[username_stored] = password_stored.rstrip()	return user_storeddef password_store(username, password):	user_info_combination = '%s:%s' % (username, password)	with open('users.txt', 'a') as pass_file:		pass_file.seek(0, 0)		pass_file.write(user_info_combination + '\n')def login_check():	error = None	user_stored = password_load()	if request.method == 'POST':		username = request.form['username']		password = request.form['password']		if not username and not password:			return render_template('login.html', error=error)		elif username in user_stored.keys() and password == user_stored[username]:			return redirect(url_for('home', username=username))		elif username in user_stored.keys() and password != user_stored[username]:			error = 'Invalid username/password'			return render_template('login.html', error=error)	return render_template('login.html', error=error)def register_check(username, password):	error = None	name_list = password_load().keys()	if username in name_list:		error = "user name already exits"		return render_template('login.html', error=error)	else:		password_store(username, password)		return render_template('register.html', username=request.form['username'])if __name__ == '__main__':	app.run(host='0.0.0.0', port=8080, debug=True)